<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TruFit by Qtac</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&display=swap');

        :root {
            /* Dark Theme */
            --bg-color-dark: #000;
            --text-color-dark: #fff;
            --border-color-dark: #fff;
            --shadow-color-dark: rgba(255, 255, 255, 0.5);
            --glow-color-dark: rgba(255, 255, 255, 0.9);
            --highlight-bg-dark: rgba(255, 255, 255, 0.1);
            --highlight-bg-hover-dark: rgba(255, 255, 255, 0.3);
            --progress-bg-dark: rgba(255, 255, 255, 0.1);
            --progress-fill-dark: linear-gradient(90deg, rgba(255, 255, 255, 0.7), white);
            --wheel-border-dark: rgba(255, 255, 255, 0.3);
            --wheel-shadow-dark: rgba(255, 255, 255, 0.2);
            --dot-color-dark: white;
            --dot-shadow-dark: rgba(255, 255, 255, 0.8);
            --tagline-color-dark: rgba(255, 255, 255, 0.7);
            --tagline-shadow-dark: rgba(255, 255, 255, 0.6);
            --attribution-color-dark: rgba(255, 255, 255, 0.5);

            /* Light Theme */
            --bg-color-light: #f0f0f0;
            --text-color-light: #333;
            --border-color-light: #555;
            --shadow-color-light: rgba(0, 0, 0, 0.2);
            --glow-color-light: rgba(0, 0, 0, 0.1);
            --highlight-bg-light: rgba(0, 0, 0, 0.05);
            --highlight-bg-hover-light: rgba(0, 0, 0, 0.1);
            --progress-bg-light: rgba(0, 0, 0, 0.1);
            --progress-fill-light: linear-gradient(90deg, rgba(0, 0, 0, 0.4), #333);
            --wheel-border-light: rgba(0, 0, 0, 0.2);
            --wheel-shadow-light: rgba(0, 0, 0, 0.1);
            --dot-color-light: #333;
            --dot-shadow-light: rgba(0, 0, 0, 0.3);
            --tagline-color-light: rgba(0, 0, 0, 0.6);
            --tagline-shadow-light: rgba(0, 0, 0, 0.1);
            --attribution-color-light: rgba(0, 0, 0, 0.5);
            
            /* Default to dark theme */
            --bg-color: var(--bg-color-dark);
            --text-color: var(--text-color-dark);
            --border-color: var(--border-color-dark);
            --shadow-color: var(--shadow-color-dark);
            --glow-color: var(--glow-color-dark);
            --highlight-bg: var(--highlight-bg-dark);
            --highlight-bg-hover: var(--highlight-bg-hover-dark);
            --progress-bg: var(--progress-bg-dark);
            --progress-fill: var(--progress-fill-dark);
            --wheel-border: var(--wheel-border-dark);
            --wheel-shadow: var(--wheel-shadow-dark);
            --dot-color: var(--dot-color-dark);
            --dot-shadow: var(--dot-shadow-dark);
            --tagline-color: var(--tagline-color-dark);
            --tagline-shadow: var(--tagline-shadow-dark);
            --attribution-color: var(--attribution-color-dark);
            
            --text-shadow: 0px 0px 10px var(--glow-color);
            --box-shadow: 0px 0px 15px var(--shadow-color);
        }

        body.light-theme {
            --bg-color: var(--bg-color-light);
            --text-color: var(--text-color-light);
            --border-color: var(--border-color-light);
            --shadow-color: var(--shadow-color-light);
            --glow-color: transparent; /* Remove glow in light theme */
            --highlight-bg: var(--highlight-bg-light);
            --highlight-bg-hover: var(--highlight-bg-hover-light);
            /* Adjust shadows for light theme */
            --text-shadow: 0px 0px 5px var(--shadow-color-light); 
            --box-shadow: 0px 0px 10px var(--shadow-color-light);
            --progress-bg: var(--progress-bg-light);
            --progress-fill: var(--progress-fill-light);
            --wheel-border: var(--wheel-border-light);
            --wheel-shadow: var(--wheel-shadow-light);
            --dot-color: var(--dot-color-light);
            --dot-shadow: var(--dot-shadow-light);
            --tagline-color: var(--tagline-color-light);
            --tagline-shadow: var(--tagline-shadow-light);
            --attribution-color: var(--attribution-color-light);
        }

        body {
            font-family: 'Space Mono', monospace;
            background: var(--bg-color);
            color: var(--text-color);
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            transition: all 0.5s ease;
            position: relative;
            overflow-x: hidden;
            padding: 20px;
        }

        #container {
            border: 2px solid var(--border-color);
            padding: 30px;
            border-radius: 15px;
            box-shadow: var(--box-shadow);
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 90%;
            max-width: 500px;
            position: relative;
            overflow: hidden;
            z-index: 1;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeIn 1s forwards 0.5s;
        }

        @keyframes fadeIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        #container::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, transparent, var(--border-color), transparent);
        }

        .typing-effect {
            overflow: hidden;
            white-space: nowrap;
            margin: 0;
            width: 0;
            animation: typing 1s steps(20, end) forwards;
        }

        @keyframes typing {
            from { width: 0 }
            to { width: 100% }
        }

        #title.typing-effect {
            animation-delay: 1s;
        }

        #title {
            font-family: 'Orbitron', sans-serif;
            font-size: 2rem;
            text-shadow: var(--text-shadow);
            letter-spacing: 2px;
            margin-bottom: 20px;
        }

        #clock-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 30px;
            position: relative;
        }

        #clock {
            font-family: 'Orbitron', sans-serif;
            font-size: 3rem;
            text-shadow: var(--text-shadow);
            letter-spacing: 2px;
            opacity: 0;
            animation: fadeIn 0.5s forwards 1.5s;
        }

        #time-format {
            display: flex;
            margin-top: 5px;
            opacity: 0;
            animation: fadeIn 0.5s forwards 1.7s;
        }

        .format-btn {
            background: var(--highlight-bg);
            color: var(--text-color);
            border: 1px solid var(--border-color);
            padding: 3px 8px;
            font-size: 0.7rem;
            cursor: pointer;
            transition: all 0.2s ease;
            font-family: 'Space Mono', monospace;
        }

        .format-btn:first-child {
            border-radius: 3px 0 0 3px;
        }

        .format-btn:last-child {
            border-radius: 0 3px 3px 0;
        }

        .format-btn.active {
            background: var(--highlight-bg-hover);
            box-shadow: 0 0 5px var(--shadow-color);
        }

        .progress-section {
            width: 100%;
            margin-bottom: 30px;
            opacity: 0;
            animation: fadeIn 0.5s forwards 2s;
        }

        .progress-container {
            width: 100%;
            height: 10px;
            background: var(--progress-bg);
            border-radius: 5px;
            margin-bottom: 5px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: var(--progress-fill);
            border-radius: 5px;
            transition: width 1s ease;
        }

        .progress-label {
            display: flex;
            justify-content: space-between;
            font-size: 0.8rem;
            margin-bottom: 20px;
        }

        .mini-progress-section {
            display: flex;
            justify-content: space-between;
            width: 100%;
            margin-top: 20px;
        }

        .mini-progress {
            width: 30%;
        }

        .mini-progress-container {
            width: 100%;
            height: 5px;
            background: var(--progress-bg);
            border-radius: 3px;
            overflow: hidden;
            margin-bottom: 5px;
        }

        .mini-progress-bar {
            height: 100%;
            background: var(--border-color);
            border-radius: 3px;
        }

        .mini-progress-label {
            font-size: 0.7rem;
            display: flex;
            justify-content: space-between;
        }

        .wheel-container {
            position: relative;
            width: 300px;
            height: 300px;
            margin: 30px auto;
            opacity: 0;
            animation: fadeIn 0.5s forwards 2.5s;
        }

        .wheel {
            position: relative;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 2px solid var(--wheel-border);
            box-shadow: 0 0 20px var(--wheel-shadow);
            transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .app-item {
            position: absolute;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--highlight-bg);
            border: 2px solid var(--border-color);
            box-shadow: 0 0 10px var(--shadow-color);
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Orbitron', sans-serif;
            font-size: 3rem;
            text-shadow: var(--text-shadow);
            padding: 10px; /* Add padding to increase clickable area */
        }

        .app-item:hover {
            background: var(--highlight-bg-hover);
            box-shadow: 0 0 15px var(--shadow-color);
            transform: scale(1.1);
        }

.app-item.active {
    background: var(--highlight-bg-hover);
    box-shadow: 0 0 10px var(--shadow-color);
}

        .app-item:nth-child(1) {
            top: 0;
            left: 50%;
            transform: translateX(-50%) translateY(-50%);
        }

        .app-item:nth-child(2) {
            top: 50%;
            right: 0;
            transform: translateX(50%) translateY(-50%);
        }

        .app-item:nth-child(3) {
            bottom: 0;
            left: 50%;
            transform: translateX(-50%) translateY(50%);
        }

        .app-item:nth-child(4) {
            top: 50%;
            left: 0;
            transform: translateX(-50%) translateY(-50%);
        }

        .app-item:nth-child(1):hover, .app-item:nth-child(1).active {
            transform: translateX(-50%) translateY(-50%) scale(1.1);
        }

        .app-item:nth-child(2):hover, .app-item:nth-child(2).active {
            transform: translateX(50%) translateY(-50%) scale(1.1);
        }

        .app-item:nth-child(3):hover, .app-item:nth-child(3).active {
            transform: translateX(-50%) translateY(50%) scale(1.1);
        }

        .app-item:nth-child(4):hover, .app-item:nth-child(4).active {
            transform: translateX(-50%) translateY(-50%) scale(1.1);
        }

        .selector-dot {
            position: absolute;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: white;
            box-shadow: 0 0 50px rgba(200, 200, 200, 0.8);
            top: 0;
            left: 50%;
            transform: translate(-50%, -50%);
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            z-index: 2;
            pointer-events: none; /* Allow clicks to pass through */
        }

        .light-theme .selector-dot {
            background: var(--text-color-light); /* Black dot in light theme */
            box-shadow: 0 0 20px var(--shadow-color-light); /* Light theme shadow */
        }

        @keyframes pageTransition {
            0% { opacity: 1; transform: scale(1); }
            50% { opacity: 0; transform: scale(1.2); }
            100% { opacity: 0; transform: scale(1.5); }
        }

        .page-transition {
            animation: pageTransition 0.5s forwards;
        }

        #tagline {
            font-size: 0.7rem;
            margin-top: 20px;
            color: var(--tagline-color);
            text-shadow: 0px 0px 5px var(--tagline-shadow);
            letter-spacing: 5px;
            opacity: 0;
            animation: fadeIn 0.5s forwards 3s;
        }

        #attribution {
            position: fixed;
            bottom: 10px;
            width: 100%;
            text-align: center;
            font-size: 0.7rem;
            color: var(--attribution-color);
            letter-spacing: 1px;
            opacity: 0;
            animation: fadeIn 0.5s forwards 3.2s;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        /* Theme toggle */
        #theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            font-size: 1.5rem;
            cursor: pointer;
            z-index: 100;
            opacity: 0;
            animation: fadeIn 0.5s forwards 3s;
            transition: transform 0.3s ease;
        }

        #theme-toggle:hover {
            transform: scale(1.2);
        }
    </style>
</head>
<body>
    <div id="theme-toggle">üåô</div>
    
    <div id="container">
        <div id="title" class="typing-effect">TruFit by Qtac</div>
        
        <div id="clock-container">
            <div id="clock">00:00:00</div>
            <div id="time-format">
                <button class="format-btn active" data-format="24h">24H</button>
                <button class="format-btn" data-format="12h">12H</button>
            </div>
        </div>
        
        <div class="progress-section">
            <div class="progress-container">
                <div id="year-progress" class="progress-bar" style="width: 0%"></div>
            </div>
            <div class="progress-label">
                <span>Year Progress</span>
                <span id="year-percentage">0%</span>
            </div>
            
            <div class="mini-progress-section">
                <div class="mini-progress">
                    <div class="mini-progress-container">
                        <div id="day-progress" class="mini-progress-bar" style="width: 0%"></div>
                    </div>
                    <div class="mini-progress-label">
                        <span>Day</span>
                        <span id="day-percentage">0%</span>
                    </div>
                </div>
                
                <div class="mini-progress">
                    <div class="mini-progress-container">
                        <div id="week-progress" class="mini-progress-bar" style="width: 0%"></div>
                    </div>
                    <div class="mini-progress-label">
                        <span>Week</span>
                        <span id="week-percentage">0%</span>
                    </div>
                </div>
                
                <div class="mini-progress">
                    <div class="mini-progress-container">
                        <div id="month-progress" class="mini-progress-bar" style="width: 0%"></div>
                    </div>
                    <div class="mini-progress-label">
                        <span>Month</span>
                        <span id="month-percentage">0%</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="wheel-container">
            <div class="wheel">
                <div class="app-item active" data-app="todo.html">üìù</div>
                <div class="app-item" data-app="timer.html">‚è±Ô∏è</div>
                <div class="app-item" data-app="workout.html">üí™</div>
                <div class="app-item" data-app="#">üîÑ</div>
            </div>
        </div>
    </div>
    
    <div id="tagline">YOUR FITNESS JOURNEY</div>
    
    <div id="attribution">Made with Love by Qtac.</div>

    <script>
        // DOM Elements
        const clockElement = document.getElementById('clock');
        const yearProgressBar = document.getElementById('year-progress');
        const yearPercentage = document.getElementById('year-percentage');
        const dayProgressBar = document.getElementById('day-progress');
        const dayPercentage = document.getElementById('day-percentage');
        const weekProgressBar = document.getElementById('week-progress');
        const weekPercentage = document.getElementById('week-percentage');
        const monthProgressBar = document.getElementById('month-progress');
        const monthPercentage = document.getElementById('month-percentage');
        const wheel = document.querySelector('.wheel');
        const appItems = document.querySelectorAll('.app-item');
        const formatBtns = document.querySelectorAll('.format-btn');
        const themeToggle = document.getElementById('theme-toggle');
        
        // App state
        let timeFormat = localStorage.getItem('timeFormat') || '24h';
        let currentTheme = localStorage.getItem('theme') || 'dark';
        
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            // Apply saved theme
            applyTheme(currentTheme);
            
            // Apply saved time format
            formatBtns.forEach(btn => {
                if (btn.dataset.format === timeFormat) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });
            
            updateClock();
            updateProgressBars();
            setInterval(updateClock, 1000);
            setInterval(updateProgressBars, 60000); // Update progress every minute
            
            // Create selector dot
            const selectorDot = document.createElement('div');
            selectorDot.className = 'selector-dot';
            document.querySelector('.wheel-container').appendChild(selectorDot);
            
            // Position selector dot at the active app
            function positionSelectorDot(activeItem) {
                const selectorDot = document.querySelector('.selector-dot');
                const wheelRect = wheel.getBoundingClientRect();
                const wheelCenterX = wheelRect.left + wheelRect.width / 2;
                const wheelCenterY = wheelRect.top + wheelRect.height / 2;

                if (activeItem) {
                    const itemRect = activeItem.getBoundingClientRect();
                    const itemCenterX = itemRect.left + itemRect.width / 2;
                    const itemCenterY = itemRect.top + itemRect.height / 2;

                    // Calculate position relative to wheel center
                    const dotX = itemCenterX - wheelCenterX;
                    const dotY = itemCenterY - wheelCenterY;

                    // Position the dot at the active item's position
                    selectorDot.style.left = `${wheelRect.width / 2 + dotX}px`;
                    selectorDot.style.top = `${wheelRect.height / 2 + dotY}px`;
                } else {
                    // Position the dot in the center of the wheel
                    selectorDot.style.left = `${wheelRect.width / 2}px`;
                    selectorDot.style.top = `${wheelRect.height / 2}px`;
                }
                selectorDot.style.transform = 'translate(-50%, -50%)';
            }
            positionSelectorDot(document.querySelector('.app-item.active')); // Position dot at initially active item
            
            // App selection
            appItems.forEach(item => {
                item.addEventListener('mouseenter', function() {
                    appItems.forEach(i => i.classList.remove('active'));
                    this.classList.add('active');
                    positionSelectorDot(this);
                });
                item.addEventListener('click', function(event) {
                    const app = this.dataset.app;
                    if (app === '#') {
                        location.reload(); // Refresh the page
                    } else if (app) {
                        window.open(app, "_self");
                    }
                });
            });

            // Mouse inactivity timeout for selector dot
            let mouseMoveTimeout;
            document.addEventListener('mousemove', () => {
                clearTimeout(mouseMoveTimeout);
                // Keep the dot on the hovered item while moving
                const hoveredItem = document.querySelector('.app-item:hover');
                if (hoveredItem) {
                    positionSelectorDot(hoveredItem);
                }
                mouseMoveTimeout = setTimeout(() => {
                    // After 3 seconds of inactivity, move dot to center and remove active class
                    positionSelectorDot(null); 
                    appItems.forEach(i => i.classList.remove('active'));
                    // Ensure the default item (e.g., the first one) becomes active again visually if needed
                    // document.querySelector('.app-item[data-app="todo.html"]').classList.add('active'); // Optional: reset to default
                }, 3000); // 3 seconds
            });

            // Theme toggle listener
            themeToggle.addEventListener('click', () => {
                currentTheme = currentTheme === 'dark' ? 'light' : 'dark';
                applyTheme(currentTheme);
                localStorage.setItem('theme', currentTheme);
            });

            // Time format listener
            formatBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    timeFormat = this.dataset.format;
                    localStorage.setItem('timeFormat', timeFormat);
                    formatBtns.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    updateClock(); // Update clock immediately on format change
                });
            });
        });
        
        // Apply theme function
        function applyTheme(theme) {
            if (theme === 'light') {
                document.body.classList.add('light-theme');
                themeToggle.textContent = '‚òÄÔ∏è';
            } else {
                document.body.classList.remove('light-theme');
                themeToggle.textContent = 'üåô';
            }
        }

        // Update clock
        function updateClock() {
            const now = new Date();
            let hours = now.getHours();
            const minutes = now.getMinutes().toString().padStart(2, '0');
            const seconds = now.getSeconds().toString().padStart(2, '0');
            let timeString;
            
            if (timeFormat === '12h') {
                const ampm = hours >= 12 ? 'PM' : 'AM';
                hours = hours % 12;
                hours = hours ? hours : 12; // the hour '0' should be '12'
                timeString = `${hours}:${minutes}:${seconds} ${ampm}`;
            } else {
                timeString = `${hours.toString().padStart(2, '0')}:${minutes}:${seconds}`;
            }
            
            clockElement.textContent = timeString;
            
            // Add pulse animation on seconds change
            clockElement.classList.add('pulse');
            setTimeout(() => {
                clockElement.classList.remove('pulse');
            }, 500);
        }
        
        // Calculate progress percentages
        function updateProgressBars() {
            const now = new Date();
            
            // Day progress
            const dayStart = new Date(now);
            dayStart.setHours(0, 0, 0, 0);
            const dayEnd = new Date(dayStart);
            dayEnd.setDate(dayStart.getDate() + 1);
            const dayProgress = ((now - dayStart) / (dayEnd - dayStart)) * 100;
            
            // Week progress
            const weekStart = new Date(now);
            weekStart.setDate(now.getDate() - now.getDay());
            const weekEnd = new Date(weekStart);
            weekEnd.setDate(weekStart.getDate() + 7);
            const weekProgress = ((now - weekStart) / (weekEnd - weekStart)) * 100;
            
            // Month progress
            const monthStart = new Date(now.getFullYear(), now.getMonth(), 1);
            const monthEnd = new Date(now.getFullYear(), now.getMonth() + 1, 0);
            const monthProgress = ((now - monthStart) / (monthEnd.getTime() - monthStart.getTime())) * 100;
            
            // Year progress
            const yearStart = new Date(now.getFullYear(), 0, 1);
            const yearEnd = new Date(now.getFullYear() + 1, 0, 1);
            const yearProgress = ((now - yearStart) / (yearEnd - yearStart)) * 100;
            
            // Update DOM
            dayProgressBar.style.width = `${dayProgress}%`;
            dayPercentage.textContent = `${Math.round(dayProgress)}%`;
            
            weekProgressBar.style.width = `${weekProgress}%`;
            weekPercentage.textContent = `${Math.round(weekProgress)}%`;
            
            monthProgressBar.style.width = `${monthProgress}%`;
            monthPercentage.textContent = `${Math.round(monthProgress)}%`;
            
            yearProgressBar.style.width = `${yearProgress}%`;
            yearPercentage.textContent = `${Math.round(yearProgress)}%`;
        }
        
        // Wheel rotation
        let currentRotation = 0;
        
        function rotateWheel(degrees) {
            currentRotation += degrees;
            wheel.style.transform = `rotate(${currentRotation}deg)`;
            
            // Counter-rotate app items to keep them upright
            // Calculate the correct transform based on the item's original position and the wheel rotation
            const numItems = appItems.length;
            const angleIncrement = 360 / numItems;
            appItems.forEach((item, index) => {
                const itemAngle = index * angleIncrement;
                // Reset transform origin for rotation
                item.style.transformOrigin = 'center center'; 
                // Apply the counter-rotation relative to its position
                // The transforms for positioning need to be reapplied along with the rotation
                let baseTransform = '';
                 if (index === 0) baseTransform = 'translateX(-50%) translateY(-50%)';
                 else if (index === 1) baseTransform = 'translateX(50%) translateY(-50%)';
                 else if (index === 2) baseTransform = 'translateX(-50%) translateY(50%)';
                 else if (index === 3) baseTransform = 'translateX(-50%) translateY(-50%)';

                // Combine base transform with counter-rotation
                // Note: This part is tricky and might need adjustment based on exact CSS positioning.
                // A simpler approach might be to adjust the initial CSS positioning to use rotate() as well.
                // For now, let's just apply counter-rotation. Revisit if positioning breaks.
                 item.style.transform = `${baseTransform} rotate(${-currentRotation}deg)`;

                 // Reapply hover/active scale if needed
                 if (item.matches(':hover') || item.classList.contains('active')) {
                     item.style.transform += ' scale(1.1)';
                 }
            });
        }
        
        // Add keyboard navigation
        document.addEventListener('keydown', function(e) {
            const activeIndex = Array.from(appItems).findIndex(item => item.classList.contains('active'));
            let nextIndex = activeIndex;

            if (e.key === 'ArrowRight') {
                rotateWheel(-90); // Rotate wheel visually
                nextIndex = (activeIndex + 1) % appItems.length;
            } else if (e.key === 'ArrowLeft') {
                rotateWheel(90); // Rotate wheel visually
                nextIndex = (activeIndex - 1 + appItems.length) % appItems.length;
            } else if (e.key === 'Enter') {
                 const activeItem = appItems[activeIndex];
                 if (activeItem) {
                     activeItem.click(); // Trigger click on the active item
                 }
                 return; // Prevent further processing for Enter key
            } else {
                return; // Ignore other keys
            }

            // Update active item based on keyboard navigation
            appItems.forEach(item => item.classList.remove('active'));
            const nextItem = appItems[nextIndex];
            if (nextItem) {
                 nextItem.classList.add('active');
                 positionSelectorDot(nextItem); // Move dot to the new active item
            }
        });
    </script>
</body>
</html>
